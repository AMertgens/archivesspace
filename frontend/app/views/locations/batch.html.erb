<%= setup_context :title => "Batch Locations", :trail => [[I18n.t("location._plural"), {:controller => :locations, :action => :index}]] %>

<%= form_for @location_batch, :as => "location_batch", :url => {:action => :batch_create}, :html => {:class => 'form-horizontal'} do |f| %>
  <%= form_context :location_batch, @location_batch do |form| %>
    <div class="row-fluid">
      <div class="span12">
        <div class="record-pane">

          <h2>Batch Locations</h2>

          <section class="subrecord-form-dummy">
            <h3 class="subrecord-heading">Base Location</h3>
            <div class="subrecord-form-container">
              <p class="alert alert-info">
                Define the base values that will be applied to all locations generated from the <strong>Coordinate Ranges</strong> below.
              </p>
              <div class="subrecord-form-fields">
                <% form.push("source_location", @location_batch["source_location"] || {}) do %>
                  <%= render :partial => "locations/form", :locals => {:form => form} %>
                <% end %>
              </div>
            </div>
          </section>

          <section class="subrecord-form-dummy">
            <h3 class="subrecord-heading">Coordinate Ranges</h3>
            <div class="subrecord-form-container">
              <p class="alert alert-info">
                Please note, any Coordinate fields entered in the above <strong>Base Location</strong> will be replaced with the values generated by the ranges below.
              </p>
              <div class="subrecord-form-fields">
                <%= render :partial => "locations/batch_form", :locals => {:form => form} %>
              </div>
            </div>
          </section>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary"><%= I18n.t("actions.save_prefix") %> <%= I18n.t("location._plural") %></button>
            <button type="button" class="btn">Preview Locations</button>

            <%= link_to I18n.t("actions.cancel"), :back, :class => "btn btn-cancel" %>
          </div>
        </div>
      </div>
    </div>
 <% end %>
<% end %>
